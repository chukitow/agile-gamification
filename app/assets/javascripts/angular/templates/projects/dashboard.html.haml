#wrapper
  / Navigation
  %nav.navbar.navbar-inverse.navbar-fixed-top{:role => "navigation"}
    / Brand and toggle get grouped for better mobile display
    .navbar-header
      %button.navbar-toggle{"data-target" => ".navbar-ex1-collapse", "data-toggle" => "collapse", :type => "button"}
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{:href => "index.html"} AgileGamification
    / Top Menu Items
    %ul.nav.navbar-right.top-nav
      %li.dropdown
        %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
          %i.fa.fa-envelope
          %b.caret
        %ul.dropdown-menu.message-dropdown
          %li.message-preview
            %a{:href => "#"}
              .media
                %span.pull-left
                  %img.media-object{:alt => "", :src => "http://placehold.it/50x50"}/
                .media-body
                  %h5.media-heading
                    %strong John Smith
                  %p.small.text-muted
                    %i.fa.fa-clock-o
                    Yesterday at 4:32 PM
                  %p Lorem ipsum dolor sit amet, consectetur...
          %li.message-preview
            %a{:href => "#"}
              .media
                %span.pull-left
                  %img.media-object{:alt => "", :src => "http://placehold.it/50x50"}/
                .media-body
                  %h5.media-heading
                    %strong John Smith
                  %p.small.text-muted
                    %i.fa.fa-clock-o
                    Yesterday at 4:32 PM
                  %p Lorem ipsum dolor sit amet, consectetur...
          %li.message-preview
            %a{:href => "#"}
              .media
                %span.pull-left
                  %img.media-object{:alt => "", :src => "http://placehold.it/50x50"}/
                .media-body
                  %h5.media-heading
                    %strong John Smith
                  %p.small.text-muted
                    %i.fa.fa-clock-o
                    Yesterday at 4:32 PM
                  %p Lorem ipsum dolor sit amet, consectetur...
          %li.message-footer
            %a{:href => "#"} Read All New Messages
      %li.dropdown
        %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
          %i.fa.fa-bell
          %b.caret
        %ul.dropdown-menu.alert-dropdown
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-default Alert Badge
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-primary Alert Badge
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-success Alert Badge
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-info Alert Badge
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-warning Alert Badge
          %li
            %a{:href => "#"}
              Alert Name
              %span.label.label-danger Alert Badge
          %li.divider
          %li
            %a{:href => "#"} View All
      %li.dropdown
        %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
          %i.fa.fa-user
          %b.caret
        %ul.dropdown-menu
          %li
            %a{:href => "#"}
              %i.fa.fa-fw.fa-user
              Profile
          %li
            %a{:href => "#"}
              %i.fa.fa-fw.fa-envelope
              Inbox
          %li
            %a{:href => "#"}
              %i.fa.fa-fw.fa-gear
              Settings
          %li.divider
          %li
            %a{:href => "/sign_out"}
              %i.fa.fa-fw.fa-power-off
              Log Out
    .collapse.navbar-collapse.navbar-ex1-collapse
      %ul.nav.navbar-nav.side-nav
        %li
          %a(href="#" ng-click="addStoryModal(false)")
            %i.fa.fa-fw.fa-plus
            Add story
        %li(ng-class="isActivePanel('my_work') ? 'active' : ''")
          %a(ng-click="tooglePanel('my_work')")
            %i.fa.fa-fw.fa-inbox
            My work
        %li(ng-class="isActivePanel('current') ? 'active' : ''")
          %a(ng-click="tooglePanel('current')")
            %i.fa.fa-fw.fa-list-ul
            Current
        %li(ng-class="isActivePanel('backlog') ? 'active' : ''")
          %a(ng-click="tooglePanel('backlog')")
            %i.fa.fa-fw.fa-list-ul
            Backlog
        %li(ng-class="isActivePanel('icebox') ? 'active' : ''")
          %a(ng-click="tooglePanel('icebox')")
            %i.fa.fa-fw.fa-spinner
            Icebox
        %li(ng-class="isActivePanel('done') ? 'active' : ''")
          %a(ng-click="tooglePanel('done')")
            %i.fa.fa-fw.fa-check
            Done

  #page-wrapper
    .container-fluid
      .roj
        .col-md-6(ng-show="isActivePanel('backlog')")
          .panel.panel-default
            .panel-heading
              %h3.panel-title.text-center
                %span.glyphicon.glyphicon-list
                Backlog
                %span.glyphicon.glyphicon-plus.pull-right.cursor-pointer(ng-click="addStoryModal(true)")
            .panel-body(ng-model="backlog" as-sortable="dragControls")
              .well.story(ng-repeat="story in backlog" ng-click="viewStory(story)" as-sortable-item)
                %div(data-as-sortable-item-handle)
                  %p
                    {{story.name}}

        .col-md-6(ng-show="isActivePanel('icebox')")
          .panel.panel-default
            .panel-heading
              %h3.panel-title.text-center
                %i.fa.fa-fw.fa-spinner
                Icebox
                %span.glyphicon.glyphicon-plus.pull-right.cursor-pointer(ng-click="addStoryModal(false)")
            .panel-body(ng-model="icebox" as-sortable="dragControls")
              .well.story(ng-repeat="story in icebox" ng-click="viewStory(story)" as-sortable-item)
                %div(data-as-sortable-item-handle)
                  %p
                    {{story.name}}

        .col-md-6(ng-show="isActivePanel('my_work')")
          .panel.panel-default
            .panel-heading
              %h3.panel-title.text-center
                %span.glyphicon.glyphicon-inbox
                My work
            .panel-body

        .col-md-6(ng-show="isActivePanel('current')")
          .panel.panel-default
            .panel-heading
              %h3.panel-title.text-center
                %span.glyphicon.glyphicon-list
                Current
            .panel-body

        .col-md-6(ng-show="isActivePanel('done')")
          .panel.panel-default
            .panel-heading
              %h3.panel-title.text-center
                %i.fa.fa-fw.fa-check
                Done
            .panel-body

        .col-md-12(ng-show="panels.length == 0")
          .jumbotron.vertical-center
            .container
              %h1.text-center
                There are no panels open
